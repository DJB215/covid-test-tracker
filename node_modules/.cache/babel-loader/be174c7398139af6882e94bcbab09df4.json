{"ast":null,"code":"var _jsxFileName = \"/Users/darrellbullock/Documents/ReactJS/quidell-tracker/client/src/components/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport LoginForm from './LoginForm';\nimport VerifyForm from './VerifyForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [activeStep, setActiveStep] = useState(0);\n  const [loginId, setLoginId] = useState('');\n  const [verifyCode, setVerifyCode] = useState(0);\n  const history = useHistory();\n  const steps = ['Einstein Login ID', 'Verification Code'];\n\n  const handleNextLogin = e => {\n    e.preventDefault();\n    setLoginId(document.getElementById('EinsteinID').value);\n    setActiveStep(activeStep + 1);\n  };\n\n  const handleNextVerify = e => {\n    e.preventDefault();\n    setVerifyCode(document.getElementById('verifyCode').value);\n\n    const startUser = () => {\n      const data = fetch('http://localhost:5000/covid/new', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          EinsteinID: loginId,\n          SecretCode: verifyCode\n        })\n      }).then(res => res.json()).then(data => console.log(data)).catch(err => console.log(err));\n    };\n\n    startUser();\n    console.log('From next verify: ', values);\n    history.push({\n      pathname: '/scanner',\n      state: {\n        loginId: values.loginId\n      }\n    });\n  };\n\n  const handleBack = e => {\n    setActiveStep(activeStep - 1);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(e.target.value, loginId);\n  };\n\n  const handleChange = input => e => {\n    console.log(document.getElementById('loginId').value);\n    console.log(input); // if (e.target.name === 'loginId') {\n    //     console.log(e)\n    //     //setLoginId(e.target.value)\n    //     //console.log(e.target.value);\n    // } else {\n    //     setVerifyCode(e.target.value)\n    // }\n  };\n\n  const values = {\n    loginId,\n    verifyCode\n  };\n\n  switch (activeStep) {\n    case 0:\n      return /*#__PURE__*/_jsxDEV(LoginForm, {\n        handleChange: handleChange,\n        values: values,\n        handleNext: handleNextLogin,\n        steps: steps,\n        activeStep: activeStep,\n        handleSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this);\n\n    case 1:\n      return /*#__PURE__*/_jsxDEV(VerifyForm, {\n        handleChange: handleChange,\n        values: values,\n        handleBack: handleBack,\n        handleNext: handleNextVerify,\n        steps: steps,\n        activeStep: activeStep\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this);\n\n    default:\n      throw new Error('Unknown step');\n  }\n};\n\n_s(Login, \"7uZwJPGioNsU9t9Ay46glQzEKgM=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/darrellbullock/Documents/ReactJS/quidell-tracker/client/src/components/Login.jsx"],"names":["React","useState","useHistory","axios","LoginForm","VerifyForm","Login","activeStep","setActiveStep","loginId","setLoginId","verifyCode","setVerifyCode","history","steps","handleNextLogin","e","preventDefault","document","getElementById","value","handleNextVerify","startUser","data","fetch","method","headers","body","JSON","stringify","EinsteinID","SecretCode","then","res","json","console","log","catch","err","values","push","pathname","state","handleBack","handleSubmit","target","handleChange","input","Error"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport LoginForm from './LoginForm';\nimport VerifyForm from './VerifyForm';\n\nconst Login = () => {\n    const [activeStep, setActiveStep] = useState(0);\n    const [loginId, setLoginId] = useState('');\n    const [verifyCode, setVerifyCode] = useState(0);\n\n    const history = useHistory();\n\n    const steps = ['Einstein Login ID', 'Verification Code'];\n\n    const handleNextLogin = (e) => {\n        e.preventDefault();\n        setLoginId(document.getElementById('EinsteinID').value);\n        setActiveStep(activeStep + 1 );\n    }\n\n    const handleNextVerify = (e) => {\n        e.preventDefault();\n        setVerifyCode(document.getElementById('verifyCode').value)\n        \n        const startUser = () => {\n            const data = fetch('http://localhost:5000/covid/new', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    EinsteinID: loginId,\n                    SecretCode: verifyCode \n                })\n            })\n            .then(res => res.json())\n            .then(data => console.log(data))\n            .catch(err => console.log(err))\n        };\n\n        startUser();\n        \n        console.log('From next verify: ', values);\n        history.push({\n            pathname: '/scanner',\n            state: { loginId: values.loginId }\n        });\n    }\n\n    const handleBack = (e) => {\n        setActiveStep(activeStep - 1 );\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(e.target.value, loginId)\n    }\n\n    const handleChange = input => e => {\n        console.log(document.getElementById('loginId').value);\n        console.log(input)\n        // if (e.target.name === 'loginId') {\n        //     console.log(e)\n        //     //setLoginId(e.target.value)\n        //     //console.log(e.target.value);\n        // } else {\n        //     setVerifyCode(e.target.value)\n        // }\n    }\n\n    const values = { loginId, verifyCode }\n\n    switch (activeStep) {\n        case 0:\n            return (\n                <LoginForm\n                    handleChange={handleChange}\n                    values={values}\n                    handleNext={handleNextLogin}\n                    steps={steps}\n                    activeStep={activeStep}\n                    handleSubmit={handleSubmit}\n                />\n            );\n        case 1:\n            return (\n                <VerifyForm\n                    handleChange={handleChange}\n                    values={values}\n                    handleBack={handleBack}\n                    handleNext={handleNextVerify}\n                    steps={steps}\n                    activeStep={activeStep}\n                />\n            );\n        default:\n            throw new Error('Unknown step');\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}