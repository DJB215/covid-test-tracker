{"ast":null,"code":"import _regeneratorRuntime from\"/Users/darrellbullock/Documents/ReactJS/quidell-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/darrellbullock/Documents/ReactJS/quidell-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/darrellbullock/Documents/ReactJS/quidell-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{makeStyles}from'@material-ui/core/styles';import{CssBaseline,Box,Container,Button,Typography,createTheme,ThemeProvider,TextField,Select,MenuItem,FormControl,InputLabel}from'@material-ui/core';import{useHistory}from'react-router-dom';import BarcodeScannerComponent from'react-webcam-barcode-scanner2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Scanner=function Scanner(props){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),TestResult=_useState2[0],setTestResult=_useState2[1];var _useState3=useState('Not Found'),_useState4=_slicedToArray(_useState3,2),CovidTestCode=_useState4[0],setCovidTestCode=_useState4[1];var EinsteinID=history.location.state.loginId;var theme=createTheme();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var url,requestOptions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();url='http://ec2-54-160-246-209.compute-1.amazonaws.com:8080/api/tests';requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({EinsteinID:EinsteinID,CovidTestCode:CovidTestCode,TestResult:TestResult})};fetch(url,requestOptions).then(function(response){return history.push('/thanks');}).catch(function(error){alert('There was a problem when you submitted your test.');console.log(error);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChangeResult=function handleChangeResult(event){setTestResult(event.target.value);};var useStyles=makeStyles(function(theme){return{formControl:{margin:theme.spacing(1),minWidth:120},selectEmpty:{marginTop:theme.spacing(2)}};});var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{className:\"pageLook\",children:[/*#__PURE__*/_jsx(BarcodeScannerComponent,{width:300,height:300,onUpdate:function onUpdate(err,result){if(result)setCovidTestCode(result.text);}}),/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Scan\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"CovidTestCode\",label:\"Covid-19 Test ID\",name:\"CovidTestCode\",autoFocus:true,value:CovidTestCode}),/*#__PURE__*/_jsxs(FormControl,{style:{width:'100%'},className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"test\",children:\"Test Result\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"test\",id:\"TestResult\",name:\"TestResult\",value:TestResult,onChange:handleChangeResult,label:\"Test Result\",fullWidth:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:'None',children:/*#__PURE__*/_jsx(\"em\",{children:\"None\"})}),/*#__PURE__*/_jsx(MenuItem,{value:'Negative',children:\"Negative\"}),/*#__PURE__*/_jsx(MenuItem,{value:'Positive',children:\"Positive\"}),/*#__PURE__*/_jsx(MenuItem,{value:'Invalid',children:\"Invalid\"})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Submit\"})]})]})]})})]});};export default Scanner;","map":{"version":3,"sources":["/Users/darrellbullock/Documents/ReactJS/quidell-tracker/client/src/components/Scanner.jsx"],"names":["React","useState","makeStyles","CssBaseline","Box","Container","Button","Typography","createTheme","ThemeProvider","TextField","Select","MenuItem","FormControl","InputLabel","useHistory","BarcodeScannerComponent","Scanner","props","history","TestResult","setTestResult","CovidTestCode","setCovidTestCode","EinsteinID","location","state","loginId","theme","handleSubmit","event","preventDefault","url","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","push","catch","error","alert","console","log","handleChangeResult","target","value","useStyles","formControl","margin","spacing","minWidth","selectEmpty","marginTop","classes","err","result","text","display","flexDirection","alignItems","mt","width","mb"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    CssBaseline,\n    Box,\n    Container,\n    Button,\n    Typography,\n    createTheme,\n    ThemeProvider,\n    TextField,\n    Select,\n    MenuItem, \n    FormControl,\n    InputLabel,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport BarcodeScannerComponent from 'react-webcam-barcode-scanner2';\n\nconst Scanner = (props) => {\n    const history = useHistory();\n    const [TestResult, setTestResult] = useState('');\n    const [CovidTestCode, setCovidTestCode] = useState('Not Found');\n\n    let EinsteinID = history.location.state.loginId;\n\n    const theme = createTheme();\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        const url = 'http://ec2-54-160-246-209.compute-1.amazonaws.com:8080/api/tests'\n           \n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ EinsteinID, CovidTestCode, TestResult })\n        };\n\n        fetch(url, requestOptions)\n            .then(response => history.push('/thanks'))\n            .catch(error => {\n                alert('There was a problem when you submitted your test.')\n                console.log(error)\n            });\n    };\n\n    const handleChangeResult = (event) => {\n        setTestResult(event.target.value);\n    };\n\n    const useStyles = makeStyles((theme) => ({\n        formControl: {\n          margin: theme.spacing(1),\n          minWidth: 120,\n        },\n        selectEmpty: {\n          marginTop: theme.spacing(2),\n        },\n      }));\n\n    const classes = useStyles()\n\n    return (\n        <div className=\"pageLook\">\n            <BarcodeScannerComponent \n            width={300} \n            height={300}\n            onUpdate={(err, result) => {\n                if (result) setCovidTestCode(result.text)\n            }}\n            />\n\n            <ThemeProvider theme={theme}>\n                <Container component=\"main\" maxWidth=\"xs\">\n                    <CssBaseline />\n                    <Box\n                    sx={{\n                        marginTop: 8,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                    }}\n                    >\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Scan\n                    </Typography>\n                    <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n                        <TextField\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"CovidTestCode\"\n                        label=\"Covid-19 Test ID\"\n                        name=\"CovidTestCode\"\n                        autoFocus\n                        value={CovidTestCode}\n                        />\n                        <FormControl style={{ width: '100%' }} className={classes.formControl}>\n                            <InputLabel id=\"test\">Test Result</InputLabel>\n                            <Select\n                            labelId=\"test\"\n                            id=\"TestResult\"\n                            name=\"TestResult\"\n                            value={TestResult}\n                            onChange={handleChangeResult}\n                            label=\"Test Result\"\n                            fullWidth\n                            >\n                                <MenuItem value={'None'}>\n                                    <em>None</em>\n                                </MenuItem>\n                                <MenuItem value={'Negative'}>Negative</MenuItem>\n                                <MenuItem value={'Positive'}>Positive</MenuItem>\n                                <MenuItem value={'Invalid'}>Invalid</MenuItem>\n                            </Select>\n                        </FormControl>\n                       \n                        <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        sx={{ mt: 3, mb: 2 }}\n                        >\n                        Submit\n                        </Button>\n                    </Box>\n                    </Box>\n                </Container>\n            </ThemeProvider>\n        </div>\n        \n    );\n}\n\n\n\n\nexport default Scanner;\n\n"]},"metadata":{},"sourceType":"module"}